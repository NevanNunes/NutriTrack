<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.*?>

<ScrollPane fitToWidth="true" xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.nutritrack.NutriTrack.javafx.ProfileController"
            styleClass="profile-container">

    <VBox spacing="20">
        <padding>
            <Insets top="30" right="40" bottom="30" left="40"/>
        </padding>

        <!-- Profile Header -->
        <HBox alignment="CENTER_LEFT" spacing="10">
            <Button text="Back" onAction="#handleBack" styleClass="back-button"/>
            <Label text="Profile Settings" styleClass="page-title" HBox.hgrow="ALWAYS">
                <font>
                    <Font size="24"/>
                </font>
            </Label>
        </HBox>
        <Text fx:id="lastUpdatedText"/>

        <!-- Profile Form -->
        <GridPane hgap="20" vgap="15" styleClass="profile-form">
            <columnConstraints>
                <ColumnConstraints minWidth="150" prefWidth="200"/>
                <ColumnConstraints minWidth="200" prefWidth="300"/>
            </columnConstraints>

            <!-- Personal Information Section -->
            <Label text="Personal Information" styleClass="section-header"
                   GridPane.columnIndex="0" GridPane.rowIndex="0"
                   GridPane.columnSpan="2">
                <font>
                    <Font size="18"/>
                </font>
            </Label>

            <Label text="Full Name:" styleClass="form-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="1"/>
            <TextField fx:id="nameField"
                      GridPane.columnIndex="1" GridPane.rowIndex="1"/>

            <Label text="Age:" styleClass="form-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="2"/>
            <TextField fx:id="ageField"
                      GridPane.columnIndex="1" GridPane.rowIndex="2"/>

            <Label text="Gender:" styleClass="form-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="3"/>
            <ComboBox fx:id="genderComboBox" maxWidth="Infinity"
                      GridPane.columnIndex="1" GridPane.rowIndex="3"/>

            <!-- Physical Measurements Section -->
            <Label text="Physical Measurements" styleClass="section-header"
                   GridPane.columnIndex="0" GridPane.rowIndex="4"
                   GridPane.columnSpan="2">
                <font>
                    <Font size="18"/>
                </font>
            </Label>

            <Label text="Height (cm):" styleClass="form-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="5"/>
            <TextField fx:id="heightField"
                      GridPane.columnIndex="1" GridPane.rowIndex="5"/>

            <Label text="Weight (kg):" styleClass="form-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="6"/>
            <TextField fx:id="weightField"
                      GridPane.columnIndex="1" GridPane.rowIndex="6"/>

            <Label text="Activity Level:" styleClass="form-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="7"/>
            <ComboBox fx:id="activityLevelComboBox" maxWidth="Infinity"
                      GridPane.columnIndex="1" GridPane.rowIndex="7"/>

            <!-- Account Settings Section -->
            <Label text="Account Settings" styleClass="section-header"
                   GridPane.columnIndex="0" GridPane.rowIndex="8"
                   GridPane.columnSpan="2">
                <font>
                    <Font size="18"/>
                </font>
            </Label>

            <Label text="Email:" styleClass="form-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="9"/>
            <TextField fx:id="emailField"
                      GridPane.columnIndex="1" GridPane.rowIndex="9"/>

            <Label text="New Password:" styleClass="form-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="10"/>
            <PasswordField fx:id="newPasswordField"
                          GridPane.columnIndex="1" GridPane.rowIndex="10"/>

            <Label text="Confirm Password:" styleClass="form-label"
                   GridPane.columnIndex="0" GridPane.rowIndex="11"/>
            <PasswordField fx:id="confirmPasswordField"
                          GridPane.columnIndex="1" GridPane.rowIndex="11"/>
        </GridPane>

        <!-- Status Messages -->
        <VBox spacing="10" alignment="CENTER">
            <Label fx:id="errorLabel" styleClass="error-label" visible="false"/>
            <Label fx:id="successLabel" styleClass="success-label" visible="false"/>
        </VBox>

        <!-- Action Buttons -->
        <HBox spacing="15" alignment="CENTER_RIGHT">
            <Button fx:id="resetButton" text="Reset Changes"
                    onAction="#onReset" styleClass="secondary-button"/>
            <Button fx:id="saveButton" text="Save Changes"
                    onAction="#onSave" styleClass="primary-button"/>
        </HBox>

    </VBox>
</ScrollPane>
